import __url$ from "/v45/url@0.11.0/deno/url.js";var or=Object.create;var Z=Object.defineProperty;var fr=Object.getOwnPropertyDescriptor;var sr=Object.getOwnPropertyNames;var lr=Object.getPrototypeOf,dr=Object.prototype.hasOwnProperty;var mr=i=>Z(i,"__esModule",{value:!0});var R=i=>{if(typeof require!="undefined")return require(i);throw new Error('Dynamic require of "'+i+'" is not supported')};var F=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var pr=(i,r,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of sr(r))!dr.call(i,t)&&t!=="default"&&Z(i,t,{get:()=>r[t],enumerable:!(e=fr(r,t))||e.enumerable});return i},T=i=>pr(mr(Z(i!=null?or(lr(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var E=F((y,q)=>{"use strict";var L=__url$,M=y.ValidationError=function(r,e,t,a,n,u){if(Array.isArray(a)?(this.path=a,this.property=a.reduce(function(s,f){return s+J(f)},"instance")):a!==void 0&&(this.property=a),r&&(this.message=r),t){var o=t.$id||t.id;this.schema=o||t}e!==void 0&&(this.instance=e),this.name=n,this.argument=u,this.stack=this.toString()};M.prototype.toString=function(){return this.property+" "+this.message};var $=y.ValidatorResult=function(r,e,t,a){this.instance=r,this.schema=e,this.options=t,this.path=a.path,this.propertyPath=a.propertyPath,this.errors=[],this.throwError=t&&t.throwError,this.throwFirst=t&&t.throwFirst,this.throwAll=t&&t.throwAll,this.disableFormat=t&&t.disableFormat===!0};$.prototype.addError=function(r){var e;if(typeof r=="string")e=new M(r,this.instance,this.schema,this.path);else{if(!r)throw new Error("Missing error detail");if(!r.message)throw new Error("Missing error message");if(!r.name)throw new Error("Missing validator type");e=new M(r.message,this.instance,this.schema,this.path,r.name,r.argument)}if(this.errors.push(e),this.throwFirst)throw new S(this);if(this.throwError)throw e;return e};$.prototype.importErrors=function(r){typeof r=="string"||r&&r.validatorType?this.addError(r):r&&r.errors&&Array.prototype.push.apply(this.errors,r.errors)};function vr(i,r){return r+": "+i.toString()+`
`}$.prototype.toString=function(r){return this.errors.map(vr).join("")};Object.defineProperty($.prototype,"valid",{get:function(){return!this.errors.length}});q.exports.ValidatorResultError=S;function S(i){Error.captureStackTrace&&Error.captureStackTrace(this,S),this.instance=i.instance,this.schema=i.schema,this.options=i.options,this.errors=i.errors}S.prototype=new Error;S.prototype.constructor=S;S.prototype.name="Validation Error";var k=y.SchemaError=function i(r,e){this.message=r,this.schema=e,Error.call(this,r),Error.captureStackTrace(this,i)};k.prototype=Object.create(Error.prototype,{constructor:{value:k,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var j=y.SchemaContext=function(r,e,t,a,n){this.schema=r,this.options=e,Array.isArray(t)?(this.path=t,this.propertyPath=t.reduce(function(u,o){return u+J(o)},"instance")):this.propertyPath=t,this.base=a,this.schemas=n};j.prototype.resolve=function(r){return L.resolve(this.base,r)};j.prototype.makeChild=function(r,e){var t=e===void 0?this.path:this.path.concat([e]),a=r.$id||r.id,n=L.resolve(this.base,a||""),u=new j(r,this.options,t,n,Object.create(this.schemas));return a&&!u.schemas[n]&&(u.schemas[n]=r),u};var A=y.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(i){return typeof i=="string"&&parseFloat(i)===parseInt(i,10)&&!isNaN(i)},regex:function(i){var r=!0;try{new RegExp(i)}catch(e){r=!1}return r},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};A.regexp=A.regex;A.pattern=A.regex;A.ipv4=A["ip-address"];y.isFormat=function(r,e,t){if(typeof r=="string"&&A[e]!==void 0){if(A[e]instanceof RegExp)return A[e].test(r);if(typeof A[e]=="function")return A[e](r)}else if(t&&t.customFormats&&typeof t.customFormats[e]=="function")return t.customFormats[e](r);return!0};var J=y.makeSuffix=function(r){return r=r.toString(),!r.match(/[.\s\[\]]/)&&!r.match(/^[\d]/)?"."+r:r.match(/^\d+$/)?"["+r+"]":"["+JSON.stringify(r)+"]"};y.deepCompareStrict=function i(r,e){if(typeof r!=typeof e)return!1;if(Array.isArray(r))return!Array.isArray(e)||r.length!==e.length?!1:r.every(function(n,u){return i(r[u],e[u])});if(typeof r=="object"){if(!r||!e)return r===e;var t=Object.keys(r),a=Object.keys(e);return t.length!==a.length?!1:t.every(function(n){return i(r[n],e[n])})}return r===e};function hr(i,r,e,t){typeof e=="object"?r[t]=V(i[t],e):i.indexOf(e)===-1&&r.push(e)}function yr(i,r,e){r[e]=i[e]}function gr(i,r,e,t){typeof r[t]!="object"||!r[t]?e[t]=r[t]:i[t]?e[t]=V(i[t],r[t]):e[t]=r[t]}function V(i,r){var e=Array.isArray(r),t=e&&[]||{};return e?(i=i||[],t=t.concat(i),r.forEach(hr.bind(null,i,t))):(i&&typeof i=="object"&&Object.keys(i).forEach(yr.bind(null,i,t)),Object.keys(r).forEach(gr.bind(null,i,r,t))),t}q.exports.deepMerge=V;y.objectGetPath=function(r,e){for(var t=e.split("/").slice(1),a;typeof(a=t.shift())=="string";){var n=decodeURIComponent(a.replace(/~0/,"~").replace(/~1/g,"/"));if(!(n in r))return;r=r[n]}return r};function Ar(i){return"/"+encodeURIComponent(i).replace(/~/g,"%7E")}y.encodePath=function(r){return r.map(Ar).join("")};y.getDecimalPlaces=function(r){var e=0;if(isNaN(r))return e;typeof r!="number"&&(r=Number(r));var t=r.toString().split("e");if(t.length===2){if(t[1][0]!=="-")return e;e=Number(t[1].slice(1))}var a=t[0].split(".");return a.length===2&&(e+=a[1].length),e};y.isSchema=function(r){return typeof r=="object"&&r||typeof r=="boolean"}});var X=F((Or,G)=>{"use strict";var g=E(),m=g.ValidatorResult,b=g.SchemaError,_={};_.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var p=_.validators={};p.type=function(r,e,t,a){if(r===void 0)return null;var n=new m(r,e,t,a),u=Array.isArray(e.type)?e.type:[e.type];if(!u.some(this.testType.bind(this,r,e,t,a))){var o=u.map(function(s){if(!!s){var f=s.$id||s.id;return f?"<"+f+">":s+""}});n.addError({name:"type",argument:o,message:"is not of a type(s) "+o})}return n};function I(i,r,e,t,a){var n=r.throwError,u=r.throwAll;r.throwError=!1,r.throwAll=!1;var o=this.validateSchema(i,a,r,e);return r.throwError=n,r.throwAll=u,!o.valid&&t instanceof Function&&t(o),o.valid}p.anyOf=function(r,e,t,a){if(r===void 0)return null;var n=new m(r,e,t,a),u=new m(r,e,t,a);if(!Array.isArray(e.anyOf))throw new b("anyOf must be an array");if(!e.anyOf.some(I.bind(this,r,t,a,function(s){u.importErrors(s)}))){var o=e.anyOf.map(function(s,f){var l=s.$id||s.id;return l?"<"+l+">":s.title&&JSON.stringify(s.title)||s.$ref&&"<"+s.$ref+">"||"[subschema "+f+"]"});t.nestedErrors&&n.importErrors(u),n.addError({name:"anyOf",argument:o,message:"is not any of "+o.join(",")})}return n};p.allOf=function(r,e,t,a){if(r===void 0)return null;if(!Array.isArray(e.allOf))throw new b("allOf must be an array");var n=new m(r,e,t,a),u=this;return e.allOf.forEach(function(o,s){var f=u.validateSchema(r,o,t,a);if(!f.valid){var l=o.$id||o.id,h=l||o.title&&JSON.stringify(o.title)||o.$ref&&"<"+o.$ref+">"||"[subschema "+s+"]";n.addError({name:"allOf",argument:{id:h,length:f.errors.length,valid:f},message:"does not match allOf schema "+h+" with "+f.errors.length+" error[s]:"}),n.importErrors(f)}}),n};p.oneOf=function(r,e,t,a){if(r===void 0)return null;if(!Array.isArray(e.oneOf))throw new b("oneOf must be an array");var n=new m(r,e,t,a),u=new m(r,e,t,a),o=e.oneOf.filter(I.bind(this,r,t,a,function(f){u.importErrors(f)})).length,s=e.oneOf.map(function(f,l){var h=f.$id||f.id;return h||f.title&&JSON.stringify(f.title)||f.$ref&&"<"+f.$ref+">"||"[subschema "+l+"]"});return o!==1&&(t.nestedErrors&&n.importErrors(u),n.addError({name:"oneOf",argument:s,message:"is not exactly one from "+s.join(",")})),n};p.if=function(r,e,t,a){if(r===void 0)return null;if(!g.isSchema(e.if))throw new Error('Expected "if" keyword to be a schema');var n=I.call(this,r,t,a,null,e.if),u=new m(r,e,t,a),o;if(n){if(e.then===void 0)return;if(!g.isSchema(e.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(r,e.then,t,a.makeChild(e.then)),u.importErrors(o)}else{if(e.else===void 0)return;if(!g.isSchema(e.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(r,e.else,t,a.makeChild(e.else)),u.importErrors(o)}return u};function N(i,r){if(Object.hasOwnProperty.call(i,r))return i[r];if(r in i){for(;i=Object.getPrototypeOf(i);)if(Object.propertyIsEnumerable.call(i,r))return i[r]}}p.propertyNames=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a),u=e.propertyNames!==void 0?e.propertyNames:{};if(!g.isSchema(u))throw new b('Expected "propertyNames" to be a schema (object or boolean)');for(var o in r)if(N(r,o)!==void 0){var s=this.validateSchema(o,u,t,a.makeChild(u));n.importErrors(s)}return n}};p.properties=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a),u=e.properties||{};for(var o in u){var s=u[o];if(s!==void 0){if(s===null)throw new b('Unexpected null, expected schema in "properties"');typeof t.preValidateProperty=="function"&&t.preValidateProperty(r,o,s,t,a);var f=N(r,o),l=this.validateSchema(f,s,t,a.makeChild(s,o));l.instance!==n.instance[o]&&(n.instance[o]=l.instance),n.importErrors(l)}}return n}};function B(i,r,e,t,a,n){if(!!this.types.object(i)&&!(r.properties&&r.properties[a]!==void 0))if(r.additionalProperties===!1)n.addError({name:"additionalProperties",argument:a,message:"is not allowed to have the additional property "+JSON.stringify(a)});else{var u=r.additionalProperties||{};typeof e.preValidateProperty=="function"&&e.preValidateProperty(i,a,u,e,t);var o=this.validateSchema(i[a],u,e,t.makeChild(u,a));o.instance!==n.instance[a]&&(n.instance[a]=o.instance),n.importErrors(o)}}p.patternProperties=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a),u=e.patternProperties||{};for(var o in r){var s=!0;for(var f in u){var l=u[f];if(l!==void 0){if(l===null)throw new b('Unexpected null, expected schema in "patternProperties"');try{var h=new RegExp(f,"u")}catch(z){h=new RegExp(f)}if(!!h.test(o)){s=!1,typeof t.preValidateProperty=="function"&&t.preValidateProperty(r,o,l,t,a);var d=this.validateSchema(r[o],l,t,a.makeChild(l,o));d.instance!==n.instance[o]&&(n.instance[o]=d.instance),n.importErrors(d)}}}s&&B.call(this,r,e,t,a,o,n)}return n}};p.additionalProperties=function(r,e,t,a){if(!!this.types.object(r)){if(e.patternProperties)return null;var n=new m(r,e,t,a);for(var u in r)B.call(this,r,e,t,a,u,n);return n}};p.minProperties=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a),u=Object.keys(r);return u.length>=e.minProperties||n.addError({name:"minProperties",argument:e.minProperties,message:"does not meet minimum property length of "+e.minProperties}),n}};p.maxProperties=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a),u=Object.keys(r);return u.length<=e.maxProperties||n.addError({name:"maxProperties",argument:e.maxProperties,message:"does not meet maximum property length of "+e.maxProperties}),n}};p.items=function(r,e,t,a){var n=this;if(!!this.types.array(r)&&!!e.items){var u=new m(r,e,t,a);return r.every(function(o,s){var f=Array.isArray(e.items)?e.items[s]||e.additionalItems:e.items;if(f===void 0)return!0;if(f===!1)return u.addError({name:"items",message:"additionalItems not permitted"}),!1;var l=n.validateSchema(o,f,t,a.makeChild(f,s));return l.instance!==u.instance[s]&&(u.instance[s]=l.instance),u.importErrors(l),!0}),u}};p.minimum=function(r,e,t,a){if(!!this.types.number(r)){var n=new m(r,e,t,a);return e.exclusiveMinimum&&e.exclusiveMinimum===!0?r>e.minimum||n.addError({name:"minimum",argument:e.minimum,message:"must be greater than "+e.minimum}):r>=e.minimum||n.addError({name:"minimum",argument:e.minimum,message:"must be greater than or equal to "+e.minimum}),n}};p.maximum=function(r,e,t,a){if(!!this.types.number(r)){var n=new m(r,e,t,a);return e.exclusiveMaximum&&e.exclusiveMaximum===!0?r<e.maximum||n.addError({name:"maximum",argument:e.maximum,message:"must be less than "+e.maximum}):r<=e.maximum||n.addError({name:"maximum",argument:e.maximum,message:"must be less than or equal to "+e.maximum}),n}};p.exclusiveMinimum=function(r,e,t,a){if(typeof e.exclusiveMaximum!="boolean"&&!!this.types.number(r)){var n=new m(r,e,t,a),u=r>e.exclusiveMinimum;return u||n.addError({name:"exclusiveMinimum",argument:e.exclusiveMinimum,message:"must be strictly greater than "+e.exclusiveMinimum}),n}};p.exclusiveMaximum=function(r,e,t,a){if(typeof e.exclusiveMaximum!="boolean"&&!!this.types.number(r)){var n=new m(r,e,t,a),u=r<e.exclusiveMaximum;return u||n.addError({name:"exclusiveMaximum",argument:e.exclusiveMaximum,message:"must be strictly less than "+e.exclusiveMaximum}),n}};var U=function(r,e,t,a,n,u){if(!!this.types.number(r)){var o=e[n];if(o==0)throw new b(n+" cannot be zero");var s=new m(r,e,t,a),f=g.getDecimalPlaces(r),l=g.getDecimalPlaces(o),h=Math.max(f,l),d=Math.pow(10,h);return Math.round(r*d)%Math.round(o*d)!=0&&s.addError({name:n,argument:o,message:u+JSON.stringify(o)}),s}};p.multipleOf=function(r,e,t,a){return U.call(this,r,e,t,a,"multipleOf","is not a multiple of (divisible by) ")};p.divisibleBy=function(r,e,t,a){return U.call(this,r,e,t,a,"divisibleBy","is not divisible by (multiple of) ")};p.required=function(r,e,t,a){var n=new m(r,e,t,a);return r===void 0&&e.required===!0?n.addError({name:"required",message:"is required"}):this.types.object(r)&&Array.isArray(e.required)&&e.required.forEach(function(u){N(r,u)===void 0&&n.addError({name:"required",argument:u,message:"requires property "+JSON.stringify(u)})}),n};p.pattern=function(r,e,t,a){if(!!this.types.string(r)){var n=new m(r,e,t,a),u=e.pattern;try{var o=new RegExp(u,"u")}catch(s){o=new RegExp(u)}return r.match(o)||n.addError({name:"pattern",argument:e.pattern,message:"does not match pattern "+JSON.stringify(e.pattern.toString())}),n}};p.format=function(r,e,t,a){if(r!==void 0){var n=new m(r,e,t,a);return!n.disableFormat&&!g.isFormat(r,e.format,this)&&n.addError({name:"format",argument:e.format,message:"does not conform to the "+JSON.stringify(e.format)+" format"}),n}};p.minLength=function(r,e,t,a){if(!!this.types.string(r)){var n=new m(r,e,t,a),u=r.match(/[\uDC00-\uDFFF]/g),o=r.length-(u?u.length:0);return o>=e.minLength||n.addError({name:"minLength",argument:e.minLength,message:"does not meet minimum length of "+e.minLength}),n}};p.maxLength=function(r,e,t,a){if(!!this.types.string(r)){var n=new m(r,e,t,a),u=r.match(/[\uDC00-\uDFFF]/g),o=r.length-(u?u.length:0);return o<=e.maxLength||n.addError({name:"maxLength",argument:e.maxLength,message:"does not meet maximum length of "+e.maxLength}),n}};p.minItems=function(r,e,t,a){if(!!this.types.array(r)){var n=new m(r,e,t,a);return r.length>=e.minItems||n.addError({name:"minItems",argument:e.minItems,message:"does not meet minimum length of "+e.minItems}),n}};p.maxItems=function(r,e,t,a){if(!!this.types.array(r)){var n=new m(r,e,t,a);return r.length<=e.maxItems||n.addError({name:"maxItems",argument:e.maxItems,message:"does not meet maximum length of "+e.maxItems}),n}};function cr(i,r,e){var t,a=e.length;for(t=r+1,a;t<a;t++)if(g.deepCompareStrict(i,e[t]))return!1;return!0}p.uniqueItems=function(r,e,t,a){if(e.uniqueItems===!0&&!!this.types.array(r)){var n=new m(r,e,t,a);return r.every(cr)||n.addError({name:"uniqueItems",message:"contains duplicate item"}),n}};p.dependencies=function(r,e,t,a){if(!!this.types.object(r)){var n=new m(r,e,t,a);for(var u in e.dependencies)if(r[u]!==void 0){var o=e.dependencies[u],s=a.makeChild(o,u);if(typeof o=="string"&&(o=[o]),Array.isArray(o))o.forEach(function(l){r[l]===void 0&&n.addError({name:"dependencies",argument:s.propertyPath,message:"property "+l+" not found, required by "+s.propertyPath})});else{var f=this.validateSchema(r,o,t,s);n.instance!==f.instance&&(n.instance=f.instance),f&&f.errors.length&&(n.addError({name:"dependencies",argument:s.propertyPath,message:"does not meet dependency required by "+s.propertyPath}),n.importErrors(f))}}return n}};p.enum=function(r,e,t,a){if(r===void 0)return null;if(!Array.isArray(e.enum))throw new b("enum expects an array",e);var n=new m(r,e,t,a);return e.enum.some(g.deepCompareStrict.bind(null,r))||n.addError({name:"enum",argument:e.enum,message:"is not one of enum values: "+e.enum.map(String).join(",")}),n};p.const=function(r,e,t,a){if(r===void 0)return null;var n=new m(r,e,t,a);return g.deepCompareStrict(e.const,r)||n.addError({name:"const",argument:e.const,message:"does not exactly match expected constant: "+e.const}),n};p.not=p.disallow=function(r,e,t,a){var n=this;if(r===void 0)return null;var u=new m(r,e,t,a),o=e.not||e.disallow;return o?(Array.isArray(o)||(o=[o]),o.forEach(function(s){if(n.testType(r,e,t,a,s)){var f=s&&(s.$id||s.id),l=f||s;u.addError({name:"not",argument:l,message:"is of prohibited type "+l})}}),u):null};G.exports=_});var P=F(($r,C)=>{"use strict";var W=__url$,wr=E();C.exports.SchemaScanResult=H;function H(i,r){this.id=i,this.ref=r}C.exports.scan=function(r,e){function t(s,f){if(!(!f||typeof f!="object")){if(f.$ref){var l=W.resolve(s,f.$ref);o[l]=o[l]?o[l]+1:0;return}var h=f.$id||f.id,d=h?W.resolve(s,h):s;if(d){if(d.indexOf("#")<0&&(d+="#"),u[d]){if(!wr.deepCompareStrict(u[d],f))throw new Error("Schema <"+d+"> already exists with different definition");return u[d]}u[d]=f,d[d.length-1]=="#"&&(u[d.substring(0,d.length-1)]=f)}a(d+"/items",Array.isArray(f.items)?f.items:[f.items]),a(d+"/extends",Array.isArray(f.extends)?f.extends:[f.extends]),t(d+"/additionalItems",f.additionalItems),n(d+"/properties",f.properties),t(d+"/additionalProperties",f.additionalProperties),n(d+"/definitions",f.definitions),n(d+"/patternProperties",f.patternProperties),n(d+"/dependencies",f.dependencies),a(d+"/disallow",f.disallow),a(d+"/allOf",f.allOf),a(d+"/anyOf",f.anyOf),a(d+"/oneOf",f.oneOf),t(d+"/not",f.not)}}function a(s,f){if(!!Array.isArray(f))for(var l=0;l<f.length;l++)t(s+"/"+l,f[l])}function n(s,f){if(!(!f||typeof f!="object"))for(var l in f)t(s+"/"+l,f[l])}var u={},o={};return t(r,e),new H(u,o)}});var nr=F((Pr,ar)=>{"use strict";var Q=__url$,Y=X(),x=E(),K=P().scan,rr=x.ValidatorResult,Er=x.ValidatorResultError,O=x.SchemaError,er=x.SchemaContext,tr="/",v=function i(){this.customFormats=Object.create(i.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(c),this.attributes=Object.create(Y.validators)};v.prototype.customFormats={};v.prototype.schemas=null;v.prototype.types=null;v.prototype.attributes=null;v.prototype.unresolvedRefs=null;v.prototype.addSchema=function(r,e){var t=this;if(!r)return null;var a=K(e||tr,r),n=e||r.$id||r.id;for(var u in a.id)this.schemas[u]=a.id[u];for(var u in a.ref)this.unresolvedRefs.push(u);return this.unresolvedRefs=this.unresolvedRefs.filter(function(o){return typeof t.schemas[o]=="undefined"}),this.schemas[n]};v.prototype.addSubSchemaArray=function(r,e){if(!!Array.isArray(e))for(var t=0;t<e.length;t++)this.addSubSchema(r,e[t])};v.prototype.addSubSchemaObject=function(r,e){if(!(!e||typeof e!="object"))for(var t in e)this.addSubSchema(r,e[t])};v.prototype.setSchemas=function(r){this.schemas=r};v.prototype.getSchema=function(r){return this.schemas[r]};v.prototype.validate=function(r,e,t,a){if(typeof e!="boolean"&&typeof e!="object"||e===null)throw new O("Expected `schema` to be an object or boolean");t||(t={});var n=e.$id||e.id,u=Q.resolve(t.base||tr,n||"");if(!a){a=new er(e,t,[],u,Object.create(this.schemas)),a.schemas[u]||(a.schemas[u]=e);var o=K(u,e);for(var s in o.id){var f=o.id[s];a.schemas[s]=f}}if(t.required&&r===void 0){var l=new rr(r,e,t,a);return l.addError("is required, but is undefined"),l}var l=this.validateSchema(r,e,t,a);if(l){if(t.throwAll&&l.errors.length)throw new Er(l)}else throw new Error("Result undefined");return l};function ir(i){var r=typeof i=="string"?i:i.$ref;return typeof r=="string"?r:!1}v.prototype.validateSchema=function(r,e,t,a){var n=new rr(r,e,t,a);if(typeof e=="boolean")e===!0?e={}:e===!1&&(e={type:[]});else if(!e)throw new Error("schema is undefined");if(e.extends)if(Array.isArray(e.extends)){var u={schema:e,ctx:a};e.extends.forEach(this.schemaTraverser.bind(this,u)),e=u.schema,u.schema=null,u.ctx=null,u=null}else e=x.deepMerge(e,this.superResolve(e.extends,a));var o=ir(e);if(o){var s=this.resolve(e,o,a),f=new er(s.subschema,t,a.path,s.switchSchema,a.schemas);return this.validateSchema(r,s.subschema,t,f)}var l=t&&t.skipAttributes||[];for(var h in e)if(!Y.ignoreProperties[h]&&l.indexOf(h)<0){var d=null,z=this.attributes[h];if(z)d=z.call(this,r,e,t,a);else if(t.allowUnknownAttributes===!1)throw new O("Unsupported attribute: "+h,e);d&&n.importErrors(d)}if(typeof t.rewrite=="function"){var ur=t.rewrite.call(this,r,e,t,a);n.instance=ur}return n};v.prototype.schemaTraverser=function(r,e){r.schema=x.deepMerge(r.schema,this.superResolve(e,r.ctx))};v.prototype.superResolve=function(r,e){var t=ir(r);return t?this.resolve(r,t,e).subschema:r};v.prototype.resolve=function(r,e,t){if(e=t.resolve(e),t.schemas[e])return{subschema:t.schemas[e],switchSchema:e};var a=Q.parse(e),n=a&&a.hash,u=n&&n.length&&e.substr(0,e.length-n.length);if(!u||!t.schemas[u])throw new O("no such schema <"+e+">",r);var o=x.objectGetPath(t.schemas[u],n.substr(1));if(o===void 0)throw new O("no such schema "+n+" located in <"+u+">",r);return{subschema:o,switchSchema:e}};v.prototype.testType=function(r,e,t,a,n){if(n!==void 0){if(n===null)throw new O('Unexpected null in "type" keyword');if(typeof this.types[n]=="function")return this.types[n].call(this,r);if(n&&typeof n=="object"){var u=this.validateSchema(r,n,t,a);return u===void 0||!(u&&u.errors.length)}return!0}};var c=v.prototype.types={};c.string=function(r){return typeof r=="string"};c.number=function(r){return typeof r=="number"&&isFinite(r)};c.integer=function(r){return typeof r=="number"&&r%1==0};c.boolean=function(r){return typeof r=="boolean"};c.array=function(r){return Array.isArray(r)};c.null=function(r){return r===null};c.date=function(r){return r instanceof Date};c.any=function(r){return!0};c.object=function(r){return r&&typeof r=="object"&&!Array.isArray(r)&&!(r instanceof Date)};ar.exports=v});var D=F((zr,w)=>{"use strict";var br=w.exports.Validator=nr();w.exports.ValidatorResult=E().ValidatorResult;w.exports.ValidatorResultError=E().ValidatorResultError;w.exports.ValidationError=E().ValidationError;w.exports.SchemaError=E().SchemaError;w.exports.SchemaScanResult=P().SchemaScanResult;w.exports.scan=P().scan;w.exports.validate=function(i,r,e){var t=new br;return t.validate(i,r,e)}});var Sr=T(D()),xr=T(D()),{Validator:Zr,ValidatorResult:Rr,ValidatorResultError:Mr,ValidationError:jr,SchemaError:Vr,SchemaScanResult:qr,scan:_r,validate:Ir}=Sr;var export_default=xr.default;export{Vr as SchemaError,qr as SchemaScanResult,jr as ValidationError,Zr as Validator,Rr as ValidatorResult,Mr as ValidatorResultError,export_default as default,_r as scan,Ir as validate};