"use strict";var w=2147483647,l=36,v=1,g=26,B=38,O=700,I=72,M=128,S="-",V=/^xn--/,q=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=l-v,f=Math.floor,m=String.fromCharCode;function C(t){throw new RangeError(U[t])}function y(t,o){let n=[],e=t.length;for(;e--;)n[e]=o(t[e]);return n}function k(t,o){let n=t.split("@"),e="";n.length>1&&(e=n[0]+"@",t=n[1]),t=t.replace(N,".");let c=t.split("."),s=y(c,o).join(".");return e+s}function T(t){let o=[],n=0,e=t.length;for(;n<e;){let c=t.charCodeAt(n++);if(c>=55296&&c<=56319&&n<e){let s=t.charCodeAt(n++);(s&64512)==56320?o.push(((c&1023)<<10)+(s&1023)+65536):(o.push(c),n--)}else o.push(c)}return o}var P=t=>String.fromCodePoint(...t),R=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l},D=function(t,o){return t+22+75*(t<26)-((o!=0)<<5)},E=function(t,o,n){let e=0;for(t=n?f(t/O):t>>1,t+=f(t/o);t>F*g>>1;e+=l)t=f(t/F);return f(e+(F+1)*t/(t+B))},L=function(t){let o=[],n=t.length,e=0,c=M,s=I,a=t.lastIndexOf(S);a<0&&(a=0);for(let r=0;r<a;++r)t.charCodeAt(r)>=128&&C("not-basic"),o.push(t.charCodeAt(r));for(let r=a>0?a+1:0;r<n;){let i=e;for(let u=1,h=l;;h+=l){r>=n&&C("invalid-input");let x=R(t.charCodeAt(r++));(x>=l||x>f((w-e)/u))&&C("overflow"),e+=x*u;let p=h<=s?v:h>=s+g?g:h-s;if(x<p)break;let b=l-p;u>f(w/b)&&C("overflow"),u*=b}let d=o.length+1;s=E(e-i,d,i==0),f(e/d)>w-c&&C("overflow"),c+=f(e/d),e%=d,o.splice(e++,0,c)}return String.fromCodePoint(...o)},j=function(t){let o=[];t=T(t);let n=t.length,e=M,c=0,s=I;for(let i of t)i<128&&o.push(m(i));let a=o.length,r=a;for(a&&o.push(S);r<n;){let i=w;for(let u of t)u>=e&&u<i&&(i=u);let d=r+1;i-e>f((w-c)/d)&&C("overflow"),c+=(i-e)*d,e=i;for(let u of t)if(u<e&&++c>w&&C("overflow"),u==e){let h=c;for(let x=l;;x+=l){let p=x<=s?v:x>=s+g?g:x-s;if(h<p)break;let b=h-p,A=l-p;o.push(m(D(p+b%A,0))),h=f(b/A)}o.push(m(D(h,0))),s=E(c,d,r==a),c=0,++r}++c,++e}return o.join("")},z=function(t){return k(t,function(o){return V.test(o)?L(o.slice(4).toLowerCase()):o})},G=function(t){return k(t,function(o){return q.test(o)?"xn--"+j(o):o})},H={version:"2.1.0",ucs2:{decode:T,encode:P},decode:L,encode:j,toASCII:G,toUnicode:z};var J=H;export{L as decode,J as default,j as encode,G as toASCII,z as toUnicode,T as ucs2decode,P as ucs2encode};